Search.setIndex({"docnames": ["build", "index", "internal-api", "nomp-usage", "user-api"], "filenames": ["build.rst", "index.rst", "internal-api.rst", "nomp-usage.rst", "user-api.rst"], "titles": ["Build instructions", "Introduction", "Internal API", "How to use nomp", "User API"], "terms": {"clone": 0, "repo": 0, "first": 0, "git": 0, "http": 0, "github": 0, "com": 0, "nomp": [0, 4], "org": 0, "instal": [0, 3], "depend": 0, "us": [0, 1, 2, 4], "conda": 0, "run": [0, 4], "env": [0, 4], "creat": [0, 2, 3], "f": [0, 3], "environ": 0, "yml": 0, "activ": 0, "If": [0, 2], "you": 0, "ar": [0, 1, 3], "plan": 0, "contribut": 0, "dev": 0, "instead": 0, "cmake": 0, "after": 0, "cd": 0, "mkdir": 0, "export": 0, "nomp_install_dir": [0, 3, 4], "home": 0, "dcmake_install_prefix": 0, "make": [0, 1, 3], "might": 0, "addition": 0, "want": 0, "specifi": [0, 2, 4], "opencl": [0, 1, 2, 3, 4], "librai": 0, "path": [0, 2], "like": [0, 1], "below": [0, 3], "can": [0, 1, 4], "t": 0, "find": [0, 4], "dopencl_librari": 0, "lib": [0, 3], "x86_64": 0, "linux": 0, "gnu": 0, "libopencl": 0, "so": 0, "1": [0, 2, 3, 4], "llvm": 0, "project": 0, "follow": [0, 1, 3, 4], "nproc": 0, "grep": 0, "c": [0, 1, 2, 3, 4], "processor": 0, "proc": 0, "cpuinfo": 0, "g": [0, 3, 4], "unix": 0, "makefil": 0, "dllvm_enable_project": 0, "dllvm_targets_to_build": 0, "x86": 0, "dllvm_optimized_tablegen": 0, "ON": 0, "dcmake_build_typ": 0, "relwithdebinfo": 0, "dcmake_c_compil": 0, "which": [0, 1, 2], "gcc": [0, 1], "dcmake_cxx_compil": 0, "dbuild_shared_lib": 0, "j": 0, "osx": 0, "appl": 0, "silicon": 0, "sysctl": 0, "n": [0, 3, 4], "hw": 0, "ncpu": 0, "aarch64": 0, "dcmake_osx_architectur": 0, "arm64": 0, "ddefault_sysroot": 0, "xcrun": 0, "show": 0, "sdk": 0, "thi": [0, 1, 4], "compil": [0, 1, 3], "bin": [0, 3], "set": [0, 3, 4], "nomp_clang_dir": [0, 3], "point": 0, "binari": 0, "directori": 0, "pwd": 0, "i": [1, 2, 3, 4], "pragma": [1, 3], "base": [1, 4], "program": 1, "model": 1, "It": 1, "look": 1, "superfici": 1, "similar": 1, "act": 1, "more": 1, "cuda": [1, 2, 4], "thu": 1, "deliv": 1, "best": 1, "both": [1, 3], "world": 1, "ha": [1, 2], "its": 1, "own": 1, "nompcc": [1, 3], "runtim": [1, 4], "libnomp": [1, 3, 4], "clang": [1, 3], "pars": 1, "convert": [1, 2], "them": 1, "librari": 1, "call": [1, 2, 4], "transform": [1, 3, 4], "sourc": [1, 2, 4], "code": [1, 2, 4], "user": [1, 2], "": 1, "favorit": 1, "itself": 1, "link": [1, 3], "against": 1, "thought": 1, "an": [1, 2, 4], "abstract": 1, "top": 1, "other": 1, "comput": 1, "hip": 1, "etc": [1, 4], "expos": 1, "api": 1, "manag": 1, "host": [1, 4], "devic": [1, 2, 4], "buffer": [1, 2], "well": [1, 4], "kernel": [1, 2, 3, 4], "launch": 1, "platform": [1, 2, 4], "independ": 1, "manner": 1, "workflow": 1, "shown": 1, "figur": 1, "real": 1, "power": 1, "come": 1, "from": [1, 2, 3, 4], "loopi": [1, 2, 3, 4], "gener": [1, 2, 4], "arrai": [1, 2, 4], "cpu": 1, "gpu": 1, "In": 1, "contrast": 1, "most": 1, "popular": 1, "forc": 1, "implement": 1, "choic": 1, "logic": 1, "level": 1, "separ": [1, 4], "detail": 1, "For": [1, 4], "exampl": [1, 3, 4], "all": 1, "afor": 1, "mention": 1, "programm": 1, "decid": 1, "memori": [1, 2, 4], "locat": 1, "time": 1, "share": [1, 2, 4], "v": 1, "global": [1, 2], "regist": 1, "file": [1, 2, 3, 4], "how": 1, "loop": 1, "map": 1, "hardwar": 1, "ax": 1, "grid": [1, 2, 4], "block": 1, "configur": 1, "ndrang": 1, "provid": 1, "experi": 1, "tune": 1, "portabl": 1, "wai": 1, "write": 1, "function": [1, 3], "through": 1, "easi": 1, "build": [1, 3, 4], "instruct": [1, 3], "frontend": 1, "direct": 1, "data": 1, "type": 1, "error": [1, 2, 3], "intern": 1, "backend": [1, 4], "init": [1, 3], "python": [1, 4], "helper": 1, "index": [1, 4], "search": 1, "page": 1, "int": [2, 3, 4], "opencl_init": 2, "struct": 2, "const": [2, 4], "platform_id": 2, "device_id": 2, "initi": [2, 4], "while": 2, "command": 2, "queue": 2, "given": [2, 4], "id": [2, 4], "return": [2, 3, 4], "neg": [2, 4], "valu": [2, 4], "occur": [2, 4], "dure": [2, 4], "otherwis": [2, 4], "0": [2, 3, 4], "paramet": [2, 4], "target": [2, 4], "resourc": [2, 4], "execut": [2, 4], "kernal": 2, "cuda_init": 2, "py_append_to_sys_path": 2, "char": [2, 3, 4], "append": 2, "system": 2, "py_c_to_loopi": 2, "pyobject": 2, "pknl": 2, "c_src": [2, 4], "object": 2, "name": [2, 4], "py_user_callback": 2, "func": 2, "callback": [2, 4], "specfi": 2, "declar": 2, "py_get_knl_name_and_src": 2, "src": 2, "get": 2, "pointer": [2, 4], "py_get_grid_s": 2, "unsign": [2, 4], "ndim": 2, "size_t": [2, 4], "local": 2, "pdict": 2, "size": [2, 4], "number": [2, 4], "dimens": 2, "dictionari": 2, "variabl": [2, 4], "kei": 2, "mem": 2, "mem_if_map": 2, "void": [2, 3, 4], "p": 2, "alloc": [2, 4], "correspond": 2, "been": 2, "mems_n": 2, "requir": 2, "strcatn": 2, "nstr": 2, "concaten": 2, "atmost": 2, "string": 2, "destin": 2, "strnlower": 2, "out": [2, 4], "max": 2, "lowercas": 2, "input": 2, "lower": 2, "case": [2, 4], "store": 2, "maximum": 2, "success": 2, "address": 2, "output": 2, "allow": 2, "sure": 3, "correctli": 3, "new": 3, "folder": 3, "test": 3, "add": 3, "The": 3, "foo": 3, "contain": 3, "includ": 3, "stdio": 3, "h": 3, "doubl": [3, 4], "updat": 3, "10": [3, 4], "free": [3, 4], "main": 3, "argc": 3, "argv": 3, "printf": 3, "d": 3, "final": [3, 4], "py": 3, "import": 3, "lp": 3, "loopy_lang_vers": 3, "2018": 3, "2": 3, "def": 3, "knl": [3, 4], "default_entrypoint": 3, "all_inam": 3, "tag_inam": 3, "script": 3, "bash": 3, "z": 3, "echo": 3, "defin": [3, 4], "exit": 3, "fi": 3, "nomp_lib_dir": 3, "nomp_inc_dir": 3, "fnomp": 3, "wl": 3, "rpath": 3, "l": 3, "lnomp": 3, "To": 3, "ani": 3, "nomp_init": 4, "e": 4, "method": 4, "twice": 4, "without": 4, "nomp_fin": 4, "between": 4, "segfault": 4, "current": 4, "onli": 4, "support": 4, "usag": 4, "err": 4, "nomp_upd": 4, "ptr": 4, "start_idx": 4, "end_idx": 4, "unit_s": 4, "op": 4, "perform": 4, "d2h": 4, "h2d": 4, "transfer": 4, "oper": 4, "slice": 4, "element": 4, "non": 4, "zero": 4, "b": 4, "sizeof": 4, "nomp_to": 4, "chang": 4, "nomp_from": 4, "nomp_fre": 4, "vector": 4, "start": 4, "end": 4, "singl": 4, "One": 4, "nomp_jit": 4, "annot": 4, "claus": 4, "narg": 4, "arg": 4, "appli": 4, "pass": 4, "specif": 4, "static": 4, "null": 4, "3": 4, "nomp_ptr": 4, "nomp_integ": 4, "domain": 4, "tell": 4, "meta": 4, "inform": 4, "about": 4, "argument": 4, "comma": 4, "list": 4, "each": 4, "we": 4, "one": 4, "nomp_run": 4, "Then": 4, "integ": 4, "process": 4, "befor": 4, "retrun": 4, "also": 4, "nomp_alloc": 4, "nomp_float": 4, "float": 4, "nomp_invalid_backend": 4, "invalid": 4, "nomp_invalid_platform": 4, "nomp_invalid_devic": 4, "nomp_invalid_map_ptr": 4, "nomp_invalid_map_op": 4, "nomp_ptr_already_map": 4, "alreadi": 4, "nomp_invalid_knl": 4, "nomp_invalid_claus": 4, "nomp_invalid_map_param": 4, "nomp_initialized_error": 4, "nomp_not_initialized_error": 4, "nomp_finalize_error": 4, "fail": 4, "nomp_malloc_error": 4, "malloc": 4, "nomp_py_initialize_error": 4, "nomp_install_dir_not_found": 4, "nomp_user_callback_not_found": 4, "found": 4, "nomp_user_callback_failur": 4, "nomp_loopy_conversion_error": 4, "convers": 4, "nomp_loopy_knl_name_not_found": 4, "nomp_loopy_codegen_fail": 4, "nomp_loopy_gridsize_fail": 4, "nomp_gridsize_calculation_fail": 4, "calcul": 4, "nomp_knl_build_error": 4, "nomp_knl_arg_type_error": 4, "nomp_knl_arg_set_error": 4, "nomp_knl_run_error": 4}, "objects": {"": [[4, 0, 1, "c.NOMP_ALLOC", "NOMP_ALLOC"], [4, 0, 1, "c.NOMP_FINALIZE_ERROR", "NOMP_FINALIZE_ERROR"], [4, 0, 1, "c.NOMP_FLOAT", "NOMP_FLOAT"], [4, 0, 1, "c.NOMP_FREE", "NOMP_FREE"], [4, 0, 1, "c.NOMP_FROM", "NOMP_FROM"], [4, 0, 1, "c.NOMP_GRIDSIZE_CALCULATION_FAILED", "NOMP_GRIDSIZE_CALCULATION_FAILED"], [4, 0, 1, "c.NOMP_INITIALIZED_ERROR", "NOMP_INITIALIZED_ERROR"], [4, 0, 1, "c.NOMP_INSTALL_DIR_NOT_FOUND", "NOMP_INSTALL_DIR_NOT_FOUND"], [4, 0, 1, "c.NOMP_INTEGER", "NOMP_INTEGER"], [4, 0, 1, "c.NOMP_INVALID_BACKEND", "NOMP_INVALID_BACKEND"], [4, 0, 1, "c.NOMP_INVALID_CLAUSE", "NOMP_INVALID_CLAUSE"], [4, 0, 1, "c.NOMP_INVALID_DEVICE", "NOMP_INVALID_DEVICE"], [4, 0, 1, "c.NOMP_INVALID_KNL", "NOMP_INVALID_KNL"], [4, 0, 1, "c.NOMP_INVALID_MAP_OP", "NOMP_INVALID_MAP_OP"], [4, 0, 1, "c.NOMP_INVALID_MAP_PARAMS", "NOMP_INVALID_MAP_PARAMS"], [4, 0, 1, "c.NOMP_INVALID_MAP_PTR", "NOMP_INVALID_MAP_PTR"], [4, 0, 1, "c.NOMP_INVALID_PLATFORM", "NOMP_INVALID_PLATFORM"], [4, 0, 1, "c.NOMP_KNL_ARG_SET_ERROR", "NOMP_KNL_ARG_SET_ERROR"], [4, 0, 1, "c.NOMP_KNL_ARG_TYPE_ERROR", "NOMP_KNL_ARG_TYPE_ERROR"], [4, 0, 1, "c.NOMP_KNL_BUILD_ERROR", "NOMP_KNL_BUILD_ERROR"], [4, 0, 1, "c.NOMP_KNL_RUN_ERROR", "NOMP_KNL_RUN_ERROR"], [4, 0, 1, "c.NOMP_LOOPY_CODEGEN_FAILED", "NOMP_LOOPY_CODEGEN_FAILED"], [4, 0, 1, "c.NOMP_LOOPY_CONVERSION_ERROR", "NOMP_LOOPY_CONVERSION_ERROR"], [4, 0, 1, "c.NOMP_LOOPY_GRIDSIZE_FAILED", "NOMP_LOOPY_GRIDSIZE_FAILED"], [4, 0, 1, "c.NOMP_LOOPY_KNL_NAME_NOT_FOUND", "NOMP_LOOPY_KNL_NAME_NOT_FOUND"], [4, 0, 1, "c.NOMP_MALLOC_ERROR", "NOMP_MALLOC_ERROR"], [4, 0, 1, "c.NOMP_NOT_INITIALIZED_ERROR", "NOMP_NOT_INITIALIZED_ERROR"], [4, 0, 1, "c.NOMP_PTR", "NOMP_PTR"], [4, 0, 1, "c.NOMP_PTR_ALREADY_MAPPED", "NOMP_PTR_ALREADY_MAPPED"], [4, 0, 1, "c.NOMP_PY_INITIALIZE_ERROR", "NOMP_PY_INITIALIZE_ERROR"], [4, 0, 1, "c.NOMP_TO", "NOMP_TO"], [4, 0, 1, "c.NOMP_USER_CALLBACK_FAILURE", "NOMP_USER_CALLBACK_FAILURE"], [4, 0, 1, "c.NOMP_USER_CALLBACK_NOT_FOUND", "NOMP_USER_CALLBACK_NOT_FOUND"], [2, 1, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init"], [2, 2, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init::backend"], [2, 2, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init::device_id"], [2, 2, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init::platform_id"], [2, 1, 1, "_CPPv413mem_if_mappedPv", "mem_if_mapped"], [2, 2, 1, "_CPPv413mem_if_mappedPv", "mem_if_mapped::p"], [4, 1, 1, "_CPPv413nomp_finalizev", "nomp_finalize"], [4, 1, 1, "_CPPv49nomp_initPKcii", "nomp_init"], [4, 2, 1, "_CPPv49nomp_initPKcii", "nomp_init::backend"], [4, 2, 1, "_CPPv49nomp_initPKcii", "nomp_init::device"], [4, 2, 1, "_CPPv49nomp_initPKcii", "nomp_init::platform"], [4, 1, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit"], [4, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::annotations"], [4, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::args"], [4, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::c_src"], [4, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::clauses"], [4, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::id"], [4, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::nargs"], [4, 1, 1, "_CPPv48nomp_runiz", "nomp_run"], [4, 2, 1, "_CPPv48nomp_runiz", "nomp_run::id"], [4, 1, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update"], [4, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::end_idx"], [4, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::op"], [4, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::ptr"], [4, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::start_idx"], [4, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::unit_size"], [2, 1, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init"], [2, 2, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init::backend"], [2, 2, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init::device_id"], [2, 2, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init::platform_id"], [2, 1, 1, "_CPPv421py_append_to_sys_pathPKc", "py_append_to_sys_path"], [2, 2, 1, "_CPPv421py_append_to_sys_pathPKc", "py_append_to_sys_path::path"], [2, 1, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy"], [2, 2, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy::backend"], [2, 2, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy::c_src"], [2, 2, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy::pKnl"], [2, 1, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::global"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::local"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::ndim"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::pDict"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::pKnl"], [2, 1, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src"], [2, 2, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src::name"], [2, 2, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src::pKnl"], [2, 2, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src::src"], [2, 1, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback"], [2, 2, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback::file"], [2, 2, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback::func"], [2, 2, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback::pKnl"], [2, 1, 1, "_CPPv47strcatniz", "strcatn"], [2, 2, 1, "_CPPv47strcatniz", "strcatn::nstr"], [2, 1, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower"], [2, 2, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower::in"], [2, 2, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower::max"], [2, 2, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower::out"]]}, "objtypes": {"0": "c:macro", "1": "cpp:function", "2": "cpp:functionParam"}, "objnames": {"0": ["c", "macro", "C macro"], "1": ["cpp", "function", "C++ function"], "2": ["cpp", "functionParam", "C++ function parameter"]}, "titleterms": {"build": 0, "instruct": 0, "libnomp": 0, "clang": 0, "frontend": 0, "introduct": 1, "nomp": [1, 3], "isn": 1, "t": 1, "openmp": 1, "tabl": 1, "content": 1, "indic": 1, "intern": 2, "api": [2, 4], "function": [2, 4], "backend": 2, "init": 2, "python": 2, "helper": 2, "other": 2, "how": 3, "us": 3, "user": 4, "map": 4, "direct": 4, "data": 4, "type": 4, "error": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})