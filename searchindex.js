Search.setIndex({"docnames": ["build", "index", "internal-api", "user-api"], "filenames": ["build.rst", "index.rst", "internal-api.rst", "user-api.rst"], "titles": ["Build instructions", "Introduction", "Internal API", "User API"], "terms": {"clone": 0, "repo": 0, "first": 0, "git": 0, "http": 0, "github": 0, "com": 0, "nomp": [0, 3], "org": 0, "instal": 0, "depend": 0, "us": [0, 1, 2, 3], "conda": 0, "run": [0, 3], "env": [0, 3], "creat": [0, 2], "f": 0, "environ": 0, "yml": 0, "activ": 0, "If": [0, 2], "you": 0, "ar": [0, 1], "plan": 0, "contribut": 0, "dev": 0, "instead": 0, "cmake": 0, "after": 0, "cd": 0, "mkdir": 0, "export": 0, "nomp_install_dir": [0, 3], "home": 0, "dcmake_install_prefix": 0, "make": [0, 1], "might": 0, "addition": 0, "want": 0, "specifi": [0, 2, 3], "opencl": [0, 1, 2, 3], "librai": 0, "path": [0, 2], "like": [0, 1], "below": 0, "can": [0, 1, 3], "t": 0, "find": [0, 3], "dopencl_librari": 0, "lib": 0, "x86_64": 0, "linux": 0, "gnu": 0, "libopencl": 0, "so": 0, "1": [0, 2, 3], "llvm": 0, "project": 0, "follow": [0, 1, 3], "nproc": 0, "grep": 0, "c": [0, 1, 2, 3], "processor": 0, "proc": 0, "cpuinfo": 0, "g": [0, 3], "unix": 0, "makefil": 0, "dllvm_enable_project": 0, "dllvm_targets_to_build": 0, "x86": 0, "dllvm_optimized_tablegen": 0, "ON": 0, "dcmake_build_typ": 0, "relwithdebinfo": 0, "dcmake_c_compil": 0, "which": [0, 1, 2], "gcc": [0, 1], "dcmake_cxx_compil": 0, "dbuild_shared_lib": 0, "j": 0, "osx": 0, "appl": 0, "silicon": 0, "sysctl": 0, "n": [0, 3], "hw": 0, "ncpu": 0, "aarch64": 0, "dcmake_osx_architectur": 0, "arm64": 0, "ddefault_sysroot": 0, "xcrun": 0, "show": 0, "sdk": 0, "thi": [0, 1, 3], "compil": [0, 1], "bin": 0, "set": [0, 3], "nomp_clang_dir": 0, "point": 0, "binari": 0, "directori": 0, "pwd": 0, "now": 0, "script": 0, "sure": 0, "both": [0, 1], "bash": 0, "z": 0, "echo": 0, "error": [0, 1, 2], "i": [0, 1, 2, 3], "defin": [0, 3], "exit": 0, "fi": 0, "nomp_lib_dir": 0, "nomp_inc_dir": 0, "includ": 0, "fnomp": 0, "h": 0, "wl": 0, "rpath": 0, "l": 0, "lnomp": 0, "pragma": 1, "base": [1, 3], "program": 1, "model": 1, "It": 1, "look": 1, "superfici": 1, "similar": 1, "act": 1, "more": 1, "cuda": [1, 2, 3], "thu": 1, "deliv": 1, "best": 1, "world": 1, "ha": [1, 2], "its": 1, "own": 1, "nompcc": 1, "runtim": [1, 3], "libnomp": [1, 3], "clang": 1, "pars": 1, "convert": [1, 2], "them": 1, "librari": 1, "call": [1, 2, 3], "transform": [1, 3], "sourc": [1, 2, 3], "code": [1, 2, 3], "user": [1, 2], "": 1, "favorit": 1, "itself": 1, "link": 1, "against": 1, "thought": 1, "an": [1, 2, 3], "abstract": 1, "top": 1, "other": 1, "comput": 1, "hip": 1, "etc": [1, 3], "expos": 1, "api": 1, "manag": 1, "host": [1, 3], "devic": [1, 2, 3], "buffer": [1, 2], "well": [1, 3], "kernel": [1, 2, 3], "launch": 1, "platform": [1, 2, 3], "independ": 1, "manner": 1, "workflow": 1, "shown": 1, "figur": 1, "real": 1, "power": 1, "come": 1, "from": [1, 2, 3], "loopi": [1, 2, 3], "gener": [1, 2, 3], "arrai": [1, 2, 3], "cpu": 1, "gpu": 1, "In": 1, "contrast": 1, "most": 1, "popular": 1, "forc": 1, "implement": 1, "choic": 1, "logic": 1, "level": 1, "separ": [1, 3], "detail": 1, "For": [1, 3], "exampl": [1, 3], "all": 1, "afor": 1, "mention": 1, "programm": 1, "decid": 1, "memori": [1, 2, 3], "locat": 1, "time": 1, "share": [1, 2, 3], "v": 1, "global": [1, 2], "regist": 1, "file": [1, 2, 3], "how": 1, "loop": 1, "map": 1, "hardwar": 1, "ax": 1, "grid": [1, 2, 3], "block": 1, "configur": 1, "ndrang": 1, "provid": 1, "experi": 1, "tune": 1, "portabl": 1, "wai": 1, "write": 1, "function": 1, "through": 1, "easi": 1, "build": [1, 3], "instruct": 1, "frontend": 1, "direct": 1, "data": 1, "type": 1, "intern": 1, "backend": [1, 3], "init": 1, "python": [1, 3], "helper": 1, "index": [1, 3], "search": 1, "page": 1, "int": [2, 3], "opencl_init": 2, "struct": 2, "const": [2, 3], "platform_id": 2, "device_id": 2, "initi": [2, 3], "while": 2, "command": 2, "queue": 2, "given": [2, 3], "id": [2, 3], "return": [2, 3], "neg": [2, 3], "valu": [2, 3], "occur": [2, 3], "dure": [2, 3], "otherwis": [2, 3], "0": [2, 3], "paramet": [2, 3], "target": [2, 3], "resourc": [2, 3], "execut": [2, 3], "kernal": 2, "cuda_init": 2, "py_append_to_sys_path": 2, "char": [2, 3], "append": 2, "system": 2, "py_c_to_loopi": 2, "pyobject": 2, "pknl": 2, "c_src": [2, 3], "object": 2, "name": [2, 3], "py_user_callback": 2, "func": 2, "callback": [2, 3], "specfi": 2, "declar": 2, "py_get_knl_name_and_src": 2, "src": 2, "get": 2, "pointer": [2, 3], "py_get_grid_s": 2, "unsign": [2, 3], "ndim": 2, "size_t": [2, 3], "local": 2, "pdict": 2, "size": [2, 3], "number": [2, 3], "dimens": 2, "dictionari": 2, "variabl": [2, 3], "kei": 2, "mem": 2, "mem_if_map": 2, "void": [2, 3], "p": 2, "alloc": [2, 3], "correspond": 2, "been": 2, "mems_n": 2, "requir": 2, "strcatn": 2, "nstr": 2, "concaten": 2, "atmost": 2, "string": 2, "destin": 2, "strnlower": 2, "out": [2, 3], "max": 2, "lowercas": 2, "input": 2, "lower": 2, "case": [2, 3], "store": 2, "maximum": 2, "success": 2, "address": 2, "output": 2, "allow": 2, "nomp_init": 3, "e": 3, "method": 3, "twice": 3, "without": 3, "nomp_fin": 3, "between": 3, "segfault": 3, "current": 3, "onli": 3, "support": 3, "usag": 3, "err": 3, "nomp_upd": 3, "ptr": 3, "start_idx": 3, "end_idx": 3, "unit_s": 3, "op": 3, "perform": 3, "d2h": 3, "h2d": 3, "transfer": 3, "free": 3, "oper": 3, "slice": 3, "element": 3, "non": 3, "zero": 3, "10": 3, "doubl": 3, "b": 3, "sizeof": 3, "nomp_to": 3, "chang": 3, "nomp_from": 3, "nomp_fre": 3, "vector": 3, "start": 3, "end": 3, "singl": 3, "One": 3, "nomp_jit": 3, "annot": 3, "claus": 3, "narg": 3, "arg": 3, "appli": 3, "pass": 3, "specif": 3, "knl": 3, "static": 3, "null": 3, "3": 3, "nomp_ptr": 3, "nomp_integ": 3, "domain": 3, "tell": 3, "meta": 3, "inform": 3, "about": 3, "argument": 3, "comma": 3, "list": 3, "each": 3, "we": 3, "one": 3, "nomp_run": 3, "Then": 3, "integ": 3, "final": 3, "process": 3, "befor": 3, "retrun": 3, "also": 3, "nomp_alloc": 3, "nomp_float": 3, "float": 3, "nomp_invalid_backend": 3, "invalid": 3, "nomp_invalid_platform": 3, "nomp_invalid_devic": 3, "nomp_invalid_map_ptr": 3, "nomp_invalid_map_op": 3, "nomp_ptr_already_map": 3, "alreadi": 3, "nomp_invalid_knl": 3, "nomp_invalid_claus": 3, "nomp_invalid_map_param": 3, "nomp_initialized_error": 3, "nomp_not_initialized_error": 3, "nomp_finalize_error": 3, "fail": 3, "nomp_malloc_error": 3, "malloc": 3, "nomp_py_initialize_error": 3, "nomp_install_dir_not_found": 3, "nomp_user_callback_not_found": 3, "found": 3, "nomp_user_callback_failur": 3, "nomp_loopy_conversion_error": 3, "convers": 3, "nomp_loopy_knl_name_not_found": 3, "nomp_loopy_codegen_fail": 3, "nomp_loopy_gridsize_fail": 3, "nomp_gridsize_calculation_fail": 3, "calcul": 3, "nomp_knl_build_error": 3, "nomp_knl_arg_type_error": 3, "nomp_knl_arg_set_error": 3, "nomp_knl_run_error": 3}, "objects": {"": [[3, 0, 1, "c.NOMP_ALLOC", "NOMP_ALLOC"], [3, 0, 1, "c.NOMP_FINALIZE_ERROR", "NOMP_FINALIZE_ERROR"], [3, 0, 1, "c.NOMP_FLOAT", "NOMP_FLOAT"], [3, 0, 1, "c.NOMP_FREE", "NOMP_FREE"], [3, 0, 1, "c.NOMP_FROM", "NOMP_FROM"], [3, 0, 1, "c.NOMP_GRIDSIZE_CALCULATION_FAILED", "NOMP_GRIDSIZE_CALCULATION_FAILED"], [3, 0, 1, "c.NOMP_INITIALIZED_ERROR", "NOMP_INITIALIZED_ERROR"], [3, 0, 1, "c.NOMP_INSTALL_DIR_NOT_FOUND", "NOMP_INSTALL_DIR_NOT_FOUND"], [3, 0, 1, "c.NOMP_INTEGER", "NOMP_INTEGER"], [3, 0, 1, "c.NOMP_INVALID_BACKEND", "NOMP_INVALID_BACKEND"], [3, 0, 1, "c.NOMP_INVALID_CLAUSE", "NOMP_INVALID_CLAUSE"], [3, 0, 1, "c.NOMP_INVALID_DEVICE", "NOMP_INVALID_DEVICE"], [3, 0, 1, "c.NOMP_INVALID_KNL", "NOMP_INVALID_KNL"], [3, 0, 1, "c.NOMP_INVALID_MAP_OP", "NOMP_INVALID_MAP_OP"], [3, 0, 1, "c.NOMP_INVALID_MAP_PARAMS", "NOMP_INVALID_MAP_PARAMS"], [3, 0, 1, "c.NOMP_INVALID_MAP_PTR", "NOMP_INVALID_MAP_PTR"], [3, 0, 1, "c.NOMP_INVALID_PLATFORM", "NOMP_INVALID_PLATFORM"], [3, 0, 1, "c.NOMP_KNL_ARG_SET_ERROR", "NOMP_KNL_ARG_SET_ERROR"], [3, 0, 1, "c.NOMP_KNL_ARG_TYPE_ERROR", "NOMP_KNL_ARG_TYPE_ERROR"], [3, 0, 1, "c.NOMP_KNL_BUILD_ERROR", "NOMP_KNL_BUILD_ERROR"], [3, 0, 1, "c.NOMP_KNL_RUN_ERROR", "NOMP_KNL_RUN_ERROR"], [3, 0, 1, "c.NOMP_LOOPY_CODEGEN_FAILED", "NOMP_LOOPY_CODEGEN_FAILED"], [3, 0, 1, "c.NOMP_LOOPY_CONVERSION_ERROR", "NOMP_LOOPY_CONVERSION_ERROR"], [3, 0, 1, "c.NOMP_LOOPY_GRIDSIZE_FAILED", "NOMP_LOOPY_GRIDSIZE_FAILED"], [3, 0, 1, "c.NOMP_LOOPY_KNL_NAME_NOT_FOUND", "NOMP_LOOPY_KNL_NAME_NOT_FOUND"], [3, 0, 1, "c.NOMP_MALLOC_ERROR", "NOMP_MALLOC_ERROR"], [3, 0, 1, "c.NOMP_NOT_INITIALIZED_ERROR", "NOMP_NOT_INITIALIZED_ERROR"], [3, 0, 1, "c.NOMP_PTR", "NOMP_PTR"], [3, 0, 1, "c.NOMP_PTR_ALREADY_MAPPED", "NOMP_PTR_ALREADY_MAPPED"], [3, 0, 1, "c.NOMP_PY_INITIALIZE_ERROR", "NOMP_PY_INITIALIZE_ERROR"], [3, 0, 1, "c.NOMP_TO", "NOMP_TO"], [3, 0, 1, "c.NOMP_USER_CALLBACK_FAILURE", "NOMP_USER_CALLBACK_FAILURE"], [3, 0, 1, "c.NOMP_USER_CALLBACK_NOT_FOUND", "NOMP_USER_CALLBACK_NOT_FOUND"], [2, 1, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init"], [2, 2, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init::backend"], [2, 2, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init::device_id"], [2, 2, 1, "_CPPv49cuda_initP7backendKiKi", "cuda_init::platform_id"], [2, 1, 1, "_CPPv413mem_if_mappedPv", "mem_if_mapped"], [2, 2, 1, "_CPPv413mem_if_mappedPv", "mem_if_mapped::p"], [3, 1, 1, "_CPPv413nomp_finalizev", "nomp_finalize"], [3, 1, 1, "_CPPv49nomp_initPKcii", "nomp_init"], [3, 2, 1, "_CPPv49nomp_initPKcii", "nomp_init::backend"], [3, 2, 1, "_CPPv49nomp_initPKcii", "nomp_init::device"], [3, 2, 1, "_CPPv49nomp_initPKcii", "nomp_init::platform"], [3, 1, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit"], [3, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::annotations"], [3, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::args"], [3, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::c_src"], [3, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::clauses"], [3, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::id"], [3, 2, 1, "_CPPv48nomp_jitPiPKcPPKcPPKcjPKcz", "nomp_jit::nargs"], [3, 1, 1, "_CPPv48nomp_runiz", "nomp_run"], [3, 2, 1, "_CPPv48nomp_runiz", "nomp_run::id"], [3, 1, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update"], [3, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::end_idx"], [3, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::op"], [3, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::ptr"], [3, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::start_idx"], [3, 2, 1, "_CPPv411nomp_updatePv6size_t6size_t6size_ti", "nomp_update::unit_size"], [2, 1, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init"], [2, 2, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init::backend"], [2, 2, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init::device_id"], [2, 2, 1, "_CPPv411opencl_initP7backendKiKi", "opencl_init::platform_id"], [2, 1, 1, "_CPPv421py_append_to_sys_pathPKc", "py_append_to_sys_path"], [2, 2, 1, "_CPPv421py_append_to_sys_pathPKc", "py_append_to_sys_path::path"], [2, 1, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy"], [2, 2, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy::backend"], [2, 2, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy::c_src"], [2, 2, 1, "_CPPv413py_c_to_loopyPP8PyObjectPKcPKc", "py_c_to_loopy::pKnl"], [2, 1, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::global"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::local"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::ndim"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::pDict"], [2, 2, 1, "_CPPv416py_get_grid_sizePjP6size_tP6size_tP8PyObjectP8PyObject", "py_get_grid_size::pKnl"], [2, 1, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src"], [2, 2, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src::name"], [2, 2, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src::pKnl"], [2, 2, 1, "_CPPv423py_get_knl_name_and_srcPPcPPcP8PyObject", "py_get_knl_name_and_src::src"], [2, 1, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback"], [2, 2, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback::file"], [2, 2, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback::func"], [2, 2, 1, "_CPPv416py_user_callbackPP8PyObjectPKcPKc", "py_user_callback::pKnl"], [2, 1, 1, "_CPPv47strcatniz", "strcatn"], [2, 2, 1, "_CPPv47strcatniz", "strcatn::nstr"], [2, 1, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower"], [2, 2, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower::in"], [2, 2, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower::max"], [2, 2, 1, "_CPPv49strnlowerPPcPKc6size_t", "strnlower::out"]]}, "objtypes": {"0": "c:macro", "1": "cpp:function", "2": "cpp:functionParam"}, "objnames": {"0": ["c", "macro", "C macro"], "1": ["cpp", "function", "C++ function"], "2": ["cpp", "functionParam", "C++ function parameter"]}, "titleterms": {"build": 0, "instruct": 0, "libnomp": 0, "link": 0, "clang": 0, "frontend": 0, "introduct": 1, "nomp": 1, "isn": 1, "t": 1, "openmp": 1, "tabl": 1, "content": 1, "indic": 1, "intern": 2, "api": [2, 3], "function": [2, 3], "backend": 2, "init": 2, "python": 2, "helper": 2, "other": 2, "user": 3, "map": 3, "direct": 3, "data": 3, "type": 3, "error": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})