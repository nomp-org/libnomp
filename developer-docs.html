<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer documentation &mdash; libnomp  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/main_stylesheet.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Internal API" href="internal-api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> libnomp
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Build instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="nomp-usage.html">How to use nomp</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-api.html">User API</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal-api.html">Internal API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#variable-names">Variable names</a></li>
<li class="toctree-l2"><a class="reference internal" href="#braces">Braces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#formatting-files-before-committing">Formatting files before committing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#debguging-github-actions">Debguging github actions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">libnomp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Developer documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/developer-docs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developer-documentation">
<h1>Developer documentation<a class="headerlink" href="#developer-documentation" title="Permalink to this heading"></a></h1>
<section id="variable-names">
<h2>Variable names<a class="headerlink" href="#variable-names" title="Permalink to this heading"></a></h2>
<p>Use <cite>snake_case</cite> for all variables. In addition, for preprocessor constants and
enum members we use capital letters.</p>
</section>
<section id="braces">
<h2>Braces<a class="headerlink" href="#braces" title="Permalink to this heading"></a></h2>
<p>Omit the braces for a block if it has only a single statement. For example, <cite>if</cite>
with a single statement in the body, or <cite>for</cite> with a single statement in the
body.  Keep braces in the following <cite>for</cite> loop (even if they can be omitted
without any change to program logic) since it has two lines in the body:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">unsigned</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;i &lt; 5&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also, in an <cite>if-then-else</cite> block, if at least one branch has more than one
statement in the body, use braces for all the branches like below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a &lt; 5&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a == 5&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a &gt; 5&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>instead of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a &lt; 5&quot;</span><span class="p">);</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a == 5&quot;</span><span class="p">);</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a &gt; 5&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="formatting-files-before-committing">
<h2>Formatting files before committing<a class="headerlink" href="#formatting-files-before-committing" title="Permalink to this heading"></a></h2>
<p>Run <cite>clang-format</cite> before committing any changes you make on the source files.
<cite>clang-format</cite> will be available if you install the dev dependencies with conda.
Run <cite>clang-format</cite> as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clang</span><span class="o">-</span><span class="nb">format</span> <span class="o">-</span><span class="n">i</span> <span class="o">**/*.</span><span class="p">[</span><span class="n">ch</span><span class="p">]</span>
</pre></div>
</div>
<p>If you change any python files, please use <cite>black</cite> and <cite>isort</cite> to format the
python code and then check with <cite>flake8</cite> before committing. <cite>black</cite>, <cite>isort</cite>
and <cite>flake8</cite>  will be available if you install the dev dependencies with
conda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">black</span> <span class="o">**/*.</span><span class="n">py</span><span class="p">;</span> <span class="n">isort</span> <span class="o">**/*.</span><span class="n">py</span>
<span class="n">flake8</span>
</pre></div>
</div>
</section>
<section id="debguging-github-actions">
<h2>Debguging github actions<a class="headerlink" href="#debguging-github-actions" title="Permalink to this heading"></a></h2>
<p><cite>tmate</cite> can be used to <cite>ssh</cite> into a github runner instance when the workflow is
launched manually from github.</p>
<p>Select the relevant worflow under <cite>Actions</cite> tab and then click <cite>run workflow</cite>
button and select run with <cite>tmate</cite>. This will run <cite>tmate</cite> action in the very
beginning of the selected workflow and you will see a <cite>ssh</cite> address that can
be used to connect to the runner instance.</p>
<p>Once connected to the runner instance, to continue the rest of the workflow
type the following in the <cite>libnomp</cite> project directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">touch</span> <span class="k">continue</span>
</pre></div>
</div>
<p>Then the workflow will continue and you can monitor the progress on GitHub.
If the worflow fails at some point, you can use the session you are connected
for debugging. Session will be kept alive for 30 minutes after failure.</p>
<p>More info on tmate can be found [here](<a class="reference external" href="https://mxschmitt.github.io/action-tmate/">https://mxschmitt.github.io/action-tmate/</a>).</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="internal-api.html" class="btn btn-neutral float-left" title="Internal API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, nomp-org.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>